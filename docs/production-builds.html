<div id="ProductionBuilds" class="bg-white pt-16">
    <div class="bg-blue-700 p-2 shadow text-xl text-white">
        <span class="font-bold pl-2">Production Builds</span>
    </div>

    <div class="md:mx-2 lg:mx-4 p-2 text-left text-black">
        <span class="text-3xl text-bold text-black mt-2">Publishing Production Builds to Github</span>
        <p>
            Production images are published to Github packages. In order to publish an image, you will need to create a
            Github personal access token with appropriate permissions to manage github packages (see
            <a
                href="https://help.github.com/en/packages/publishing-and-managing-packages/about-github-packages#about-tokens"
                >Github Packages</a
            >
            documentation for details). Then create local environment variables <b>GITHUB_USER</b> and
            <b>GITHUB_TOKEN</b> with your github user and personal access token.
        </p>

        <p>Once authorization has been set up, the procedure to publish production builds is:</p>
        <ul>
            <li>Stage and test any changes in the master branch</li>
            <li>
                Update the app version number in `app/build.gradle` using
                <a href="https://semver.org/">semantic versioning</a> conventions
            </li>
            <li>Merge changes into the production branch</li>
            <li>
                Build and publish changes to Github with the command
                <code class="language-bash" data-lang="bash">gradle publish</code>. The build.grade file has been
                configured to use the authentication information in the environment variables <b>GITHUB_USER</b> and
                <b>GITHUB_TOKEN</b> when attempting to publish.
            </li>
            <li>
                Check that the packages with the updated version number are listed in
                <a href="https://github.com/pmbb-ibi/carnival/packages">Carnival Packages</a>
            </li>
        </ul>

        <p>
            For further details, see
            <a
                href="https://help.github.com/en/packages/using-github-packages-with-your-projects-ecosystem/configuring-gradle-for-use-with-github-packages"
                >Configuring Gradle for use with GitHub Packages</a
            >.
        </p>
    </div>
</div>
